# Services for Reolink License Plate Detection

add_allowed_plate:
  name: Add Allowed License Plate
  description: Add a license plate to the allowed list
  fields:
    plate_number:
      name: Plate Number
      description: The license plate number to add
      required: true
      selector:
        text:
          type: text
          uppercase: true
    description:
      name: Description
      description: Optional description for the plate (owner, vehicle, etc.)
      required: false
      selector:
        text:
          type: text
    camera:
      name: Camera
      description: Optional camera to associate this plate with
      required: false
      selector:
        entity:
          domain: camera

remove_allowed_plate:
  name: Remove Allowed License Plate
  description: Remove a license plate from the allowed list
  fields:
    plate_number:
      name: Plate Number
      description: The license plate number to remove
      required: true
      selector:
        text:
          type: text
          uppercase: true

trigger_detection:
  name: Trigger Manual Detection
  description: Manually trigger license plate detection on a camera
  fields:
    camera_name:
      name: Camera Name
      description: Name of the camera to trigger detection on
      required: true
      selector:
        text:
          type: text

open_garage_door:
  name: Open Garage Door
  description: Manually open the configured garage door
  fields:
    garage_entity:
      name: Garage Door Entity
      description: The garage door entity to open
      required: false
      selector:
        entity:
          domain: cover
    reason:
      name: Reason
      description: Reason for opening (for logging)
      required: false
      selector:
        text:
          type: text

set_detection_area:
  name: Set Detection Area
  description: Set or update the detection area for a camera
  fields:
    camera_name:
      name: Camera Name
      description: Name of the camera to update
      required: true
      selector:
        text:
          type: text
    x:
      name: X Position
      description: X coordinate (0.0-1.0, relative to image width)
      required: true
      selector:
        number:
          min: 0.0
          max: 1.0
          step: 0.01
          mode: slider
    y:
      name: Y Position
      description: Y coordinate (0.0-1.0, relative to image height)
      required: true
      selector:
        number:
          min: 0.0
          max: 1.0
          step: 0.01
          mode: slider
    width:
      name: Width
      description: Width of detection area (0.1-1.0, relative to image width)
      required: true
      selector:
        number:
          min: 0.1
          max: 1.0
          step: 0.01
          mode: slider
    height:
      name: Height
      description: Height of detection area (0.1-1.0, relative to image height)
      required: true
      selector:
        number:
          min: 0.1
          max: 1.0
          step: 0.01
          mode: slider

update_settings:
  name: Update Detection Settings
  description: Update global detection settings
  fields:
    detection_sensitivity:
      name: Detection Sensitivity
      description: Sensitivity level for plate detection (0.1-1.0)
      required: false
      selector:
        number:
          min: 0.1
          max: 1.0
          step: 0.1
          mode: slider
    min_confidence:
      name: Minimum Confidence
      description: Minimum confidence level for accepting detections (0.1-1.0)
      required: false
      selector:
        number:
          min: 0.1
          max: 1.0
          step: 0.1
          mode: slider
    cooldown_seconds:
      name: Cooldown Period
      description: Cooldown period between detections in seconds (5-300)
      required: false
      selector:
        number:
          min: 5
          max: 300
          step: 5
          unit_of_measurement: seconds
    enable_notifications:
      name: Enable Notifications
      description: Enable or disable detection notifications
      required: false
      selector:
        boolean:
    enable_auto_garage:
      name: Enable Auto Garage
      description: Enable or disable automatic garage door opening
      required: false
      selector:
        boolean:

get_detection_history:
  name: Get Detection History
  description: Retrieve detection history for analysis
  fields:
    camera_name:
      name: Camera Name
      description: Filter by specific camera (optional)
      required: false
      selector:
        text:
          type: text
    hours:
      name: Hours
      description: Number of hours to look back (default: 24)
      required: false
      selector:
        number:
          min: 1
          max: 168
          step: 1
          unit_of_measurement: hours
    allowed_only:
      name: Allowed Plates Only
      description: Only return detections of allowed plates
      required: false
      selector:
        boolean:

test_camera_connection:
  name: Test Camera Connection
  description: Test connection to a Reolink camera
  fields:
    camera_name:
      name: Camera Name
      description: Name of the camera to test
      required: true
      selector:
        text:
          type: text